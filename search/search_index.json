{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83d\udce7 Introduction to SDK","text":"<p>Welcome to the Mail.tm Stack Development Kit, designed to enhance your experience with the renowned temporary email service, Mail.tm. Here's why you'll find it indispensable:</p>"},{"location":"#enhanced-integration","title":"Enhanced Integration","text":"<p>This kit streamlines interactions with Mail.tm's API, empowering you to seamlessly integrate its features into your applications. Whether you're automating email workflows or incorporating temporary email capabilities, this SDK has you covered.</p> <ul> <li>The library provides a way to reduce the memory load. </li> <li>It uses hashmaps for caching the data required to compare and dispatch data related events. </li> <li>The live system works on a routed method of pooling with API which makes it easy to interact with client.</li> </ul>"},{"location":"#comprehensive-documentation","title":"Comprehensive Documentation","text":"<p>Methods are constructed using the documentation, available here. The whole documentation is relying on what the API documentation is, apart from the attributes an instance of any JSON object represents. Rather than manually spliiting the data and then patching their values under a class, this library directly uses Structs, to do it. </p> <p>Similar to an example class like this all the objects, that is, the <code>abc</code>s are made in this library. <pre><code>class Account(x.Struct):\n    account_id: Optional[str]\n    another_field: Optional[str]\n    some_more_field: Optional[str]\n</code></pre></p> <p>Although the documentation has it's own essential importance. &gt;The docstrings do contain all the necessary information one &gt;would need to know about.</p>"},{"location":"#adherence-to-terms","title":"Adherence to Terms","text":"<p>Rest assured, this SDK complies fully with Mail.tm's terms of usage, ensuring a seamless and secure experience for both developers and users. By respecting Mail.tm's conditions, we prioritize the integrity and reliability of the service by this kit.</p>"},{"location":"#assurance-of-safety","title":"Assurance of safety","text":"<p>This repository prioritizes your safety. With frequent updates to dependencies, we ensure that no vulnerable dependencies compromise your security. Count on us for a secure and reliable experience.</p> <p>Experience the power and convenience of Mail.tm with our Stack Development Kit - your gateway to efficient and reliable temporary email solutions.</p>"},{"location":"home/client/","title":"Choosing the Ideal Client for Your Project","text":"<p>This guide will help you determine which of the three main clients is best suited for your use case.</p>"},{"location":"home/client/#your-requirements","title":"\ud83d\udcad Your Requirements","text":"<p>Based on the specific needs of your project, the library offers three primary clients to choose from:</p>"},{"location":"home/client/#asyncmail","title":"\ud83d\udce7 AsyncMail","text":"<p>In scenarios where asynchronous operations are essential, such as developing a Discord bot, the AsyncMail client is ideal.</p> <ul> <li>\ud83d\ude80 AsyncMail allows you to execute operations without blocking other tasks, ensuring smooth performance and responsiveness.</li> <li>\ud83d\ude80 This client is perfect for situations where avoiding IO bottlenecks is necessary.</li> </ul>"},{"location":"home/client/#syncmail","title":"\ud83d\udce7 SyncMail","text":"<p>SyncMail is designed for situations where synchronous operation is preferred or required.</p> <ul> <li>\ud83d\ude80 SyncMail provides a straightforward synchronous interface, making it a great choice for users who are more comfortable with synchronous programming paradigms or who do not require the complexity of asynchronous operations.</li> <li>\ud83d\ude80 In SyncMail, operations are executed sequentially, one after the other, rather than concurrently.</li> <li>\ud83d\ude80 This approach can be beneficial in certain contexts where simplicity or ease of understanding is prioritized over performance gains from asynchronous execution.</li> </ul>"},{"location":"home/client/#pullers","title":"\ud83d\udceb Pullers","text":"<p>Pullers are components within a system that retrieve data or messages from a source in a controlled and efficient manner. </p> <ul> <li>\ud83d\ude80 Pullers typically function by periodically querying a source for new data or messages, pulling them into the system for processing. </li> <li>\ud83d\ude80 This approach is commonly used in scenarios where the rate of data production varies, or where it is impractical to push data to all consumers simultaneously.</li> <li>\ud83d\ude80 This approach allows users to have complete control over the flow of information in a controlled and efficient manner, without having to establish a dedicated session.</li> </ul>"},{"location":"home/client/#stellar-feature-custom-mailserver","title":"\u2b50 Stellar Feature - Custom MailServer","text":"<p>In addition to the various clients, this SDK offers a standout feature that is not officially supported by the website but has been meticulously reproduced to function seamlessly. This feature involves a pooling-based server, which continually monitors the API for new events at one-second intervals. Upon detecting a difference, it dispatches the corresponding event, enabling dynamic responses to incoming messages.</p> <p>We'll discuss this feature in more detail in the <code>Server</code> documentation.</p>"},{"location":"home/future/","title":"Future Plans","text":"<p>Until the server-side implementation of the temporary email service is updated, no changes will be made without explicit announcement. If any changes are introduced, they will be immediately disclosed on this repository's page.</p>"},{"location":"references/async-client/","title":"Async Mail","text":"<p>Client used for asynchronous operations using the <code>aiohttp</code> client library. This would work in sessions.</p> <p>Warn</p> <p>After you're finished with a session. Do not forget to close the session yourself by calling <code>close()</code>. This will close the session and it won't eat memory any further.</p>"},{"location":"references/async-client/#base","title":"Base","text":"<ul> <li>This module provides an asyncio-based client for the Mail.TM API.</li> <li>It allows to create, delete, and manage accounts, messages, and sources. As well as retrieve information about domains.</li> <li>The API is based on the <code>aiohttp</code> library and uses the <code>msgspec</code> library to decode the JSON responses from the API into Python objects.</li> <li>The client is easy to use and is designed to be used in an asyncio-based application.</li> <li>The API is documented at Mail.tm Documentation</li> <li>The client automatically handles errors and exceptions, so you don't have to.</li> <li>The client also handles rate limits, so you don't have to.</li> <li>The client does not handle connection limits, so you might have to.</li> <li>The client does not handle SSL verification, so you might have to.</li> </ul>"},{"location":"references/async-client/#mailtm.impls.xclient.AsyncMail","title":"AsyncMail","text":"<pre><code>AsyncMail(account_token: t.Optional[Token] = None)\n</code></pre> <p>Async based client handler for the SDK/library.</p> PARAMETER DESCRIPTION <code>account_token</code> <p>The account token to use for authentication. If not provided, the client will not be authenticated.</p> <p> TYPE: <code>t.Optional[Token]</code> DEFAULT: <code>None</code> </p> <p>Examples:</p> <pre><code>import asyncio\nfrom mailtm import AsyncMail\n\nasync def main():\n    async with AsyncMail() as client:\n        account = await client.get_me()\n        print(account)\n\nasyncio.run(main())\n</code></pre>"},{"location":"references/async-client/#mailtm.impls.xclient.AsyncMail.get_me","title":"get_me  <code>async</code>","text":"<pre><code>get_me() -&gt; t.Optional[Account]\n</code></pre> <p>Get the user associated with the account token provided to create a session.</p> RETURNS DESCRIPTION <code>Optional[Account]</code> <p>The user associated with the account token provided to create a session. If not authenticated, returns None.</p>"},{"location":"references/async-client/#mailtm.impls.xclient.AsyncMail.get_domains","title":"get_domains  <code>async</code>","text":"<pre><code>get_domains() -&gt; t.Optional[DomainPageView]\n</code></pre> <p>Get a page view of domains available under the account token provided to create a session.</p> RETURNS DESCRIPTION <code>Optional[DomainPageView]</code> <p>A page view of domains available under the account token provided to create a session. If not authenticated, returns None.</p>"},{"location":"references/async-client/#mailtm.impls.xclient.AsyncMail.get_domain","title":"get_domain  <code>async</code>","text":"<pre><code>get_domain(domain_id: str) -&gt; t.Optional[Domain]\n</code></pre> <p>Get a specific domain with ID.</p> PARAMETER DESCRIPTION <code>domain_id</code> <p>The ID of the domain to get.</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <code>Optional[Domain]</code> <p>The domain with the ID provided. If not found, returns None.</p>"},{"location":"references/async-client/#mailtm.impls.xclient.AsyncMail.get_account","title":"get_account  <code>async</code>","text":"<pre><code>get_account(account_id: str) -&gt; t.Optional[Account]\n</code></pre> <p>Get an accnount by it's ID.</p> PARAMETER DESCRIPTION <code>account_id</code> <p>The ID of the account to get.</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <code>Optional[Account]</code> <p>The account with the ID provided. If not found, returns None.</p>"},{"location":"references/async-client/#mailtm.impls.xclient.AsyncMail.create_account","title":"create_account  <code>async</code>","text":"<pre><code>create_account(\n    address: str, password: str\n) -&gt; t.Optional[Account]\n</code></pre> <p>Create an account.</p> PARAMETER DESCRIPTION <code>address</code> <p>The email address of the new account.</p> <p> TYPE: <code>str</code> </p> <code>password</code> <p>The password for the new account.</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <code>Optional[Account]</code> <p>The newly created account object if successful, None otherwise.</p>"},{"location":"references/async-client/#mailtm.impls.xclient.AsyncMail.delete_account","title":"delete_account  <code>async</code>","text":"<pre><code>delete_account(account_id: t.Optional[str] = None) -&gt; None\n</code></pre> <p>Delete an account by it's ID.</p> PARAMETER DESCRIPTION <code>account_id</code> <p>The ID of the account to delete. If not provided, the account token will be used.</p> <p> TYPE: <code>t.Optional[str]</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>None</code>"},{"location":"references/async-client/#mailtm.impls.xclient.AsyncMail.get_messages","title":"get_messages  <code>async</code>","text":"<pre><code>get_messages(page: int = 1) -&gt; t.Optional[MessagePageView]\n</code></pre> <p>Get a page view of messages available under the account token provided to create a session.</p> PARAMETER DESCRIPTION <code>page</code> <p>The page number to get. Defaults to 1.</p> <p> TYPE: <code>int</code> DEFAULT: <code>1</code> </p> RETURNS DESCRIPTION <code>Optional[MessagePageView]</code> <p>A page view of messages available under the account token provided to create a session. If not authenticated, returns None.</p>"},{"location":"server/events/","title":"Server Events","text":"<p>Events are designed for handling server-related tasks, with a total of 8 events created specifically for this purpose. These events are dispatched to decorators that are subscribed to them.</p> <p>Note</p> <p>You are sought to not change or create a custom event, since it still needs to be tested. Without testing, the execution of a custom event might cause problems that server implementations may not be able to deal it causing the server to eventually die.</p>"},{"location":"server/events/#events","title":"Events","text":"<p>Module for events that get triggered in the Mail.tm server.</p> <p>This module contains a set of classes representing different events that get triggered in the <code>Mail.tm</code> server. These events can be used to create callbacks for when certain actions happen in the server.</p> <ul> <li><code>NewMessage</code>: Triggered when a new message is received.</li> <li><code>MessageDelete</code>: Triggered when a message is deleted using the server instance.</li> <li><code>DomainChange</code>: Triggered when the email domain is changed.</li> <li><code>AccountSwitched</code>: Triggered when the account is switched to a different account.</li> <li><code>NewAccountCreated</code>: Triggered when a new account is created.</li> <li><code>AccountDeleted</code>: Triggered when an account is deleted.</li> <li><code>ServerStarted</code>: Triggered when the server is started.</li> <li><code>ServerCalledOff</code>: Triggered when the server is ended.</li> </ul>"},{"location":"server/events/#mailtm.server.events.BaseEvent","title":"BaseEvent","text":"<pre><code>BaseEvent(\n    event: str, client: AsyncMail, _server: AttachServer\n)\n</code></pre> <p>Represents a set of Discord UI components attached to a message.</p> PARAMETER DESCRIPTION <code>event</code> <p>A string attached to the BaseEvent that represents the event.</p> <p> TYPE: <code>str</code> </p> <code>client</code> <p>An instance AsyncMail that represents the client. You can use this to operate the interactions with the AsyncClient</p> <p> TYPE: <code>AsyncMail</code> </p> <code>_server</code> <p>This is not supposed to be used by the user. This attaches a server instance to dispatch events within from events.</p> <p> TYPE: <code>AttachServer</code> </p>"},{"location":"server/events/#mailtm.server.events.BaseEvent.client","title":"client  <code>property</code>","text":"<pre><code>client: AsyncMail\n</code></pre> <p>Client attached to the server context.</p> RETURNS DESCRIPTION <code>AsyncMail</code> <p>an instance of AsyncMail attached to the server in the context of the interaction.</p>"},{"location":"server/events/#mailtm.server.events.BaseEvent.server","title":"server  <code>property</code>","text":"<pre><code>server: AttachServer\n</code></pre> <p>An instance of AttachServer, which basically has the MailServer attached to it.</p> RETURNS DESCRIPTION <code>AttachServer</code> <p>an instance of AttachServer, which can be used like <code>AttachServer.server</code>. This contains <code>MailServer</code>.</p>"},{"location":"server/events/#mailtm.server.events.BaseEvent.event","title":"event  <code>property</code>","text":"<pre><code>event: str\n</code></pre> <p>The event string associated with the dispatched class.</p> RETURNS DESCRIPTION <code>str</code> <p>The event string associated with the dispatched class</p>"},{"location":"server/events/#mailtm.server.events.NewMessage","title":"NewMessage","text":"<pre><code>NewMessage(\n    event: str,\n    client: AsyncMail,\n    _server: AttachServer,\n    new_message: Message,\n)\n</code></pre> <p>             Bases: <code>BaseEvent</code></p> <p>Event triggered when a message is received.</p> PARAMETER DESCRIPTION <code>new_message</code> <p>The message that was received.</p> <p> TYPE: <code>Message</code> </p>"},{"location":"server/events/#mailtm.server.events.NewMessage.client","title":"client  <code>property</code>","text":"<pre><code>client: AsyncMail\n</code></pre> <p>Client attached to the server context.</p> RETURNS DESCRIPTION <code>AsyncMail</code> <p>an instance of AsyncMail attached to the server in the context of the interaction.</p>"},{"location":"server/events/#mailtm.server.events.NewMessage.server","title":"server  <code>property</code>","text":"<pre><code>server: AttachServer\n</code></pre> <p>An instance of AttachServer, which basically has the MailServer attached to it.</p> RETURNS DESCRIPTION <code>AttachServer</code> <p>an instance of AttachServer, which can be used like <code>AttachServer.server</code>. This contains <code>MailServer</code>.</p>"},{"location":"server/events/#mailtm.server.events.NewMessage.event","title":"event  <code>property</code>","text":"<pre><code>event: str\n</code></pre> <p>The event string associated with the dispatched class.</p> RETURNS DESCRIPTION <code>str</code> <p>The event string associated with the dispatched class</p>"},{"location":"server/events/#mailtm.server.events.NewMessage.new_message","title":"new_message  <code>property</code>","text":"<pre><code>new_message: Message\n</code></pre> <p>The new message that was received from the server.</p> RETURNS DESCRIPTION <code>Message</code> <p>An instance of Message which includes the details about message received from the server.</p>"},{"location":"server/events/#mailtm.server.events.NewMessage.delete_message","title":"delete_message  <code>async</code>","text":"<pre><code>delete_message() -&gt; None\n</code></pre> <p>Delete the message from the Mail Box.</p>"},{"location":"server/events/#mailtm.server.events.NewMessage.mark_as_seen","title":"mark_as_seen  <code>async</code>","text":"<pre><code>mark_as_seen() -&gt; None\n</code></pre> <p>Flag the message as seen.</p>"},{"location":"server/events/#mailtm.server.events.MessageDelete","title":"MessageDelete","text":"<pre><code>MessageDelete(\n    event: str,\n    client: AsyncMail,\n    deleted_message: Message,\n    _server: AttachServer,\n)\n</code></pre> <p>             Bases: <code>BaseEvent</code></p> <p>Event triggered when a message  gets deleted using the server instance. Note: This won't get triggered if the client is used to delete any message</p> PARAMETER DESCRIPTION <code>deleted_message</code> <p>The message that was deleted.</p> <p> TYPE: <code>Message</code> </p>"},{"location":"server/events/#mailtm.server.events.MessageDelete.client","title":"client  <code>property</code>","text":"<pre><code>client: AsyncMail\n</code></pre> <p>Client attached to the server context.</p> RETURNS DESCRIPTION <code>AsyncMail</code> <p>an instance of AsyncMail attached to the server in the context of the interaction.</p>"},{"location":"server/events/#mailtm.server.events.MessageDelete.server","title":"server  <code>property</code>","text":"<pre><code>server: AttachServer\n</code></pre> <p>An instance of AttachServer, which basically has the MailServer attached to it.</p> RETURNS DESCRIPTION <code>AttachServer</code> <p>an instance of AttachServer, which can be used like <code>AttachServer.server</code>. This contains <code>MailServer</code>.</p>"},{"location":"server/events/#mailtm.server.events.MessageDelete.event","title":"event  <code>property</code>","text":"<pre><code>event: str\n</code></pre> <p>The event string associated with the dispatched class.</p> RETURNS DESCRIPTION <code>str</code> <p>The event string associated with the dispatched class</p>"},{"location":"server/events/#mailtm.server.events.MessageDelete.deleted_message","title":"deleted_message  <code>property</code>","text":"<pre><code>deleted_message: Message\n</code></pre> <p>The message that was deleted.</p> RETURNS DESCRIPTION <code>Message</code> <p>The message that was deleted.</p>"},{"location":"server/events/#mailtm.server.events.DomainChange","title":"DomainChange","text":"<pre><code>DomainChange(\n    new_domain: Domain,\n    event: str,\n    client: AsyncMail,\n    _server: AttachServer,\n)\n</code></pre> <p>             Bases: <code>BaseEvent</code></p> <p>Event triggered when the email domain is changed.</p> Parameter <p>new_domain : Domain     The new domain that was set.</p>"},{"location":"server/events/#mailtm.server.events.DomainChange.client","title":"client  <code>property</code>","text":"<pre><code>client: AsyncMail\n</code></pre> <p>Client attached to the server context.</p> RETURNS DESCRIPTION <code>AsyncMail</code> <p>an instance of AsyncMail attached to the server in the context of the interaction.</p>"},{"location":"server/events/#mailtm.server.events.DomainChange.server","title":"server  <code>property</code>","text":"<pre><code>server: AttachServer\n</code></pre> <p>An instance of AttachServer, which basically has the MailServer attached to it.</p> RETURNS DESCRIPTION <code>AttachServer</code> <p>an instance of AttachServer, which can be used like <code>AttachServer.server</code>. This contains <code>MailServer</code>.</p>"},{"location":"server/events/#mailtm.server.events.DomainChange.event","title":"event  <code>property</code>","text":"<pre><code>event: str\n</code></pre> <p>The event string associated with the dispatched class.</p> RETURNS DESCRIPTION <code>str</code> <p>The event string associated with the dispatched class</p>"},{"location":"server/events/#mailtm.server.events.DomainChange.new_domain","title":"new_domain  <code>property</code>","text":"<pre><code>new_domain: Domain\n</code></pre> <p>The domain that got changed.</p> RETURNS DESCRIPTION <code>Domain</code> <p>A domain that was changed</p>"},{"location":"server/events/#mailtm.server.events.AccountSwitched","title":"AccountSwitched","text":"<pre><code>AccountSwitched(\n    event: str,\n    client: AsyncMail,\n    _server: AttachServer,\n    last_account_auth: ServerAuth,\n    new_account_auth: ServerAuth,\n)\n</code></pre> <p>             Bases: <code>BaseEvent</code></p> <p>Event triggered when the account is switched to a different account.</p> Parameter <p>last_account_auth: ServerAuth     An instance of ServerAuth that represents the last account.</p> <p>new_account_auth: ServerAuth     An instance of ServerAuth that represents the new account.</p>"},{"location":"server/events/#mailtm.server.events.AccountSwitched.client","title":"client  <code>property</code>","text":"<pre><code>client: AsyncMail\n</code></pre> <p>Client attached to the server context.</p> RETURNS DESCRIPTION <code>AsyncMail</code> <p>an instance of AsyncMail attached to the server in the context of the interaction.</p>"},{"location":"server/events/#mailtm.server.events.AccountSwitched.server","title":"server  <code>property</code>","text":"<pre><code>server: AttachServer\n</code></pre> <p>An instance of AttachServer, which basically has the MailServer attached to it.</p> RETURNS DESCRIPTION <code>AttachServer</code> <p>an instance of AttachServer, which can be used like <code>AttachServer.server</code>. This contains <code>MailServer</code>.</p>"},{"location":"server/events/#mailtm.server.events.AccountSwitched.event","title":"event  <code>property</code>","text":"<pre><code>event: str\n</code></pre> <p>The event string associated with the dispatched class.</p> RETURNS DESCRIPTION <code>str</code> <p>The event string associated with the dispatched class</p>"},{"location":"server/events/#mailtm.server.events.AccountSwitched.last_account_auth","title":"last_account_auth  <code>property</code>","text":"<pre><code>last_account_auth: ServerAuth\n</code></pre> <p>Get the ServerAuth of the last account.</p> Returns: <p>ServerAuth     An instance of ServerAuth that represents the last account.</p>"},{"location":"server/events/#mailtm.server.events.AccountSwitched.new_account_auth","title":"new_account_auth  <code>property</code>","text":"<pre><code>new_account_auth: ServerAuth\n</code></pre> <p>The server authentication related to the new account.</p> RETURNS DESCRIPTION <code>ServerAuth</code> <p>An instance representing the details used in server authentication.</p> <p> TYPE: <code>ServerAuth</code> </p>"},{"location":"server/events/#mailtm.server.events.NewAccountCreated","title":"NewAccountCreated","text":"<pre><code>NewAccountCreated(\n    new_account_auth: ServerAuth,\n    new_account: Account,\n    event: str,\n    client: AsyncMail,\n    _server: AttachServer,\n)\n</code></pre> <p>             Bases: <code>BaseEvent</code></p> <p>Event triggered when a new account is created.</p> PARAMETER DESCRIPTION <code>new_account_auth</code> <p>An instance of ServerAuth that represents the new account.</p> <p> TYPE: <code>ServerAuth</code> </p> <code>new_account</code> <p>An instance of Account that represents the new account.</p> <p> TYPE: <code>Account</code> </p>"},{"location":"server/events/#mailtm.server.events.NewAccountCreated.client","title":"client  <code>property</code>","text":"<pre><code>client: AsyncMail\n</code></pre> <p>Client attached to the server context.</p> RETURNS DESCRIPTION <code>AsyncMail</code> <p>an instance of AsyncMail attached to the server in the context of the interaction.</p>"},{"location":"server/events/#mailtm.server.events.NewAccountCreated.server","title":"server  <code>property</code>","text":"<pre><code>server: AttachServer\n</code></pre> <p>An instance of AttachServer, which basically has the MailServer attached to it.</p> RETURNS DESCRIPTION <code>AttachServer</code> <p>an instance of AttachServer, which can be used like <code>AttachServer.server</code>. This contains <code>MailServer</code>.</p>"},{"location":"server/events/#mailtm.server.events.NewAccountCreated.event","title":"event  <code>property</code>","text":"<pre><code>event: str\n</code></pre> <p>The event string associated with the dispatched class.</p> RETURNS DESCRIPTION <code>str</code> <p>The event string associated with the dispatched class</p>"},{"location":"server/events/#mailtm.server.events.NewAccountCreated.new_account_auth","title":"new_account_auth  <code>property</code>","text":"<pre><code>new_account_auth: ServerAuth\n</code></pre> <p>The server authentication related to the new account.</p> RETURNS DESCRIPTION <code>ServerAuth</code> <p>An instance representing the details used in server authentication.</p> <p> TYPE: <code>ServerAuth</code> </p>"},{"location":"server/events/#mailtm.server.events.NewAccountCreated.new_account","title":"new_account  <code>property</code>","text":"<pre><code>new_account: Account\n</code></pre> <p>The new account that was created.</p> RETURNS DESCRIPTION <code>Account</code> <p>An instance of Account that represents the new account.</p>"},{"location":"server/events/#mailtm.server.events.AccountDeleted","title":"AccountDeleted","text":"<pre><code>AccountDeleted(\n    event: str,\n    client: AsyncMail,\n    _server: AttachServer,\n    deleted_account_auth: ServerAuth,\n    deleted_account: Account,\n)\n</code></pre> <p>             Bases: <code>BaseEvent</code></p> <p>Event triggered when an account is deleted.</p> PARAMETER DESCRIPTION <code>deleted_account_auth</code> <p>An instance of ServerAuth that represents the deleted account.</p> <p> TYPE: <code>ServerAuth</code> </p> <code>deleted_account</code> <p>An instance of Account that represents the deleted account.</p> <p> TYPE: <code>Account</code> </p>"},{"location":"server/events/#mailtm.server.events.AccountDeleted.client","title":"client  <code>property</code>","text":"<pre><code>client: AsyncMail\n</code></pre> <p>Client attached to the server context.</p> RETURNS DESCRIPTION <code>AsyncMail</code> <p>an instance of AsyncMail attached to the server in the context of the interaction.</p>"},{"location":"server/events/#mailtm.server.events.AccountDeleted.server","title":"server  <code>property</code>","text":"<pre><code>server: AttachServer\n</code></pre> <p>An instance of AttachServer, which basically has the MailServer attached to it.</p> RETURNS DESCRIPTION <code>AttachServer</code> <p>an instance of AttachServer, which can be used like <code>AttachServer.server</code>. This contains <code>MailServer</code>.</p>"},{"location":"server/events/#mailtm.server.events.AccountDeleted.event","title":"event  <code>property</code>","text":"<pre><code>event: str\n</code></pre> <p>The event string associated with the dispatched class.</p> RETURNS DESCRIPTION <code>str</code> <p>The event string associated with the dispatched class</p>"},{"location":"server/events/#mailtm.server.events.AccountDeleted.deleted_account_auth","title":"deleted_account_auth  <code>property</code>","text":"<pre><code>deleted_account_auth: ServerAuth\n</code></pre> <p>The server authentication related to the deleted account.</p> RETURNS DESCRIPTION <code>ServerAuth</code> <p>An instance representing the details used in server authentication.</p> <p> TYPE: <code>ServerAuth</code> </p>"},{"location":"server/events/#mailtm.server.events.AccountDeleted.deleted_account","title":"deleted_account  <code>property</code>","text":"<pre><code>deleted_account: Account\n</code></pre> <p>The account that was deleted.</p> RETURNS DESCRIPTION <code>Account</code> <p>An instance of Account that represents the deleted account.</p>"},{"location":"server/events/#mailtm.server.events.ServerStarted","title":"ServerStarted","text":"<pre><code>ServerStarted(\n    event: str, client: AsyncMail, _server: AttachServer\n)\n</code></pre> <p>             Bases: <code>BaseEvent</code></p> <p>Event triggered when the server is started.</p>"},{"location":"server/events/#mailtm.server.events.ServerStarted.client","title":"client  <code>property</code>","text":"<pre><code>client: AsyncMail\n</code></pre> <p>Client attached to the server context.</p> RETURNS DESCRIPTION <code>AsyncMail</code> <p>an instance of AsyncMail attached to the server in the context of the interaction.</p>"},{"location":"server/events/#mailtm.server.events.ServerStarted.server","title":"server  <code>property</code>","text":"<pre><code>server: AttachServer\n</code></pre> <p>An instance of AttachServer, which basically has the MailServer attached to it.</p> RETURNS DESCRIPTION <code>AttachServer</code> <p>an instance of AttachServer, which can be used like <code>AttachServer.server</code>. This contains <code>MailServer</code>.</p>"},{"location":"server/events/#mailtm.server.events.ServerStarted.event","title":"event  <code>property</code>","text":"<pre><code>event: str\n</code></pre> <p>The event string associated with the dispatched class.</p> RETURNS DESCRIPTION <code>str</code> <p>The event string associated with the dispatched class</p>"},{"location":"server/events/#mailtm.server.events.ServerCalledOff","title":"ServerCalledOff","text":"<pre><code>ServerCalledOff(\n    event: str, client: AsyncMail, _server: AttachServer\n)\n</code></pre> <p>             Bases: <code>BaseEvent</code></p> <p>Event triggered when the server is ended.</p>"},{"location":"server/events/#mailtm.server.events.ServerCalledOff.client","title":"client  <code>property</code>","text":"<pre><code>client: AsyncMail\n</code></pre> <p>Client attached to the server context.</p> RETURNS DESCRIPTION <code>AsyncMail</code> <p>an instance of AsyncMail attached to the server in the context of the interaction.</p>"},{"location":"server/events/#mailtm.server.events.ServerCalledOff.server","title":"server  <code>property</code>","text":"<pre><code>server: AttachServer\n</code></pre> <p>An instance of AttachServer, which basically has the MailServer attached to it.</p> RETURNS DESCRIPTION <code>AttachServer</code> <p>an instance of AttachServer, which can be used like <code>AttachServer.server</code>. This contains <code>MailServer</code>.</p>"},{"location":"server/events/#mailtm.server.events.ServerCalledOff.event","title":"event  <code>property</code>","text":"<pre><code>event: str\n</code></pre> <p>The event string associated with the dispatched class.</p> RETURNS DESCRIPTION <code>str</code> <p>The event string associated with the dispatched class</p>"},{"location":"server/implementation/","title":"Mail Server implementation","text":"Should we reconsider our implementation method to align with the webhooks approach detailed in the documentation at mail.tm <p>Given the documentation at mail.tm, I've explored the possibility of implementing webhooks for our project. However,</p> <ul> <li>It appears that the webhooks utilize SSE (Server-Sent Events) instead of conventional webhook captures for real-time event updates.</li> <li>Unfortunately, due to the absence of reliable SSE client implementations in Python, the current implementation stands as the most suitable approach for now.</li> </ul>"},{"location":"server/implementation/#mail-server-base-implementation","title":"Mail Server Base Implementation","text":"<p>Note</p> <p>Just below this text, lies the Base implementation of MailServer. You should never use this to create a MailServer instance directly. Instead you should choose MailServer</p>"},{"location":"server/implementation/#mailtm.server.srv.MailServerBase","title":"MailServerBase","text":"<pre><code>MailServerBase(\n    server_auth: ServerAuth,\n    pooling_rate: t.Optional[int],\n    banner: t.Optional[bool] = True,\n    banner_path: t.Optional[\n        t.Union[pathlib.Path, str]\n    ] = default_banner,\n    suppress_errors: t.Optional[bool] = False,\n    enable_logging: t.Optional[bool] = False,\n)\n</code></pre> <p>Stellar Addition - Custom MailServer.</p> <p>This script sets up a pooling-based server that checks the API every second for new events. When a difference is detected, the corresponding event is dispatched, allowing you to respond dynamically to incoming messages. In addition to the core SDK functionalities, this package offers an additional layer of scripts designed to handle clients in an event-driven manner, reminiscent of frameworks like <code>discord.py</code> or <code>hikari</code>. With this SDK, you gain access to a client that dispatches events seamlessly.</p> PARAMETER DESCRIPTION <code>server_auth</code> <p>The server authentication details.</p> <p> TYPE: <code>ServerAuth</code> </p> <code>pooling_rate</code> <p>The pooling rate in seconds. If not provided, the default pooling rate will be used.</p> <p> TYPE: <code>Optional[int]</code> </p> <code>banner</code> <p>Whether to display a banner upon initialization. Defaults to True.</p> <p> TYPE: <code>Optional[bool]</code> DEFAULT: <code>True</code> </p> <code>banner_path</code> <p>The path to the banner file. Defaults to the default banner file.</p> <p> TYPE: <code>Optional[Union[Path, str]]</code> DEFAULT: <code>default_banner</code> </p> <code>suppress_errors</code> <p>Whether to suppress errors. Defaults to False.</p> <p> TYPE: <code>Optional[bool]</code> DEFAULT: <code>False</code> </p> <code>enable_logging</code> <p>Whether to enable logging. Defaults to False.</p> <p> TYPE: <code>Optional[bool]</code> DEFAULT: <code>False</code> </p> Example <pre><code>import mailtm\nserver = mailtm.MailServer(\n    server_auth=ServerAuth(\n        account_id=\"...\",  # Your account ID.\n        account_token=\"...\",  # Your account token.\n    )\n)\n# Define an event handler for new messages\n# The stand-alone decorators should be used\n# without the brackets since we provide no\n# function to handle, and append with the\n# handler.\n@server.on_new_message\nasync def event(event: NewMessage):\n    print(event.new_message.text)\n# Start the event loop\nserver.run()\n</code></pre>"},{"location":"server/implementation/#mailtm.server.srv.MailServerBase.log","title":"log","text":"<pre><code>log(\n    message: str,\n    severity: t.Literal[\n        \"INFO\", \"WARNING\", \"ERROR\"\n    ] = \"INFO\",\n) -&gt; None\n</code></pre> <p>Logs the message to the console with the corresponding severity.</p> PARAMETER DESCRIPTION <code>message</code> <p>The message to log.</p> <p> TYPE: <code>str</code> </p> <code>severity</code> <p>The severity of the message. Defaults to INFO.</p> <p> TYPE: <code>Literal[INFO, WARNING, ERROR]</code> DEFAULT: <code>'INFO'</code> </p> RETURNS DESCRIPTION <code>None</code>"},{"location":"server/implementation/#mailtm.server.srv.MailServerBase.subscribe","title":"subscribe","text":"<pre><code>subscribe(\n    event_type: t.Type[BaseEvent],\n) -&gt; t.Callable[\n    [t.Callable[[ServerSideEvents], t.Awaitable[None]]],\n    t.Callable[[ServerSideEvents], t.Awaitable[None]],\n]\n</code></pre> <p>Decorator to subscribe a function to handle server events.</p> PARAMETER DESCRIPTION <code>event_type</code> <p>The type of event to subscribe to.</p> <p> TYPE: <code>Type[BaseEvent]</code> </p> RETURNS DESCRIPTION <code>Callable</code> <p>The decorated function.</p> Example <pre><code>@server.subscribe(ServerSideEvents.NewMessage)\nasync def event(event: ServerSideEvents.NewMessage):\n    print(event.new_message.text)\n</code></pre>"},{"location":"server/implementation/#mailtm.server.srv.MailServerBase.on_new_message","title":"on_new_message","text":"<pre><code>on_new_message(\n    func: t.Callable[[NewMessage], t.Awaitable[None]]\n)\n</code></pre> <p>Registers a callback function to handle new messages.</p> PARAMETER DESCRIPTION <code>func</code> <p>The callback function to handle new messages.</p> <p> TYPE: <code>Callable[[NewMessage], Awaitable[None]]</code> </p> RETURNS DESCRIPTION <code>The result of the extracted function call.</code>"},{"location":"server/implementation/#mailtm.server.srv.MailServerBase.on_new_domain","title":"on_new_domain","text":"<pre><code>on_new_domain(\n    func: t.Callable[[DomainChange], t.Awaitable[None]]\n)\n</code></pre> <p>Registers a callback function to handle new domains.</p> PARAMETER DESCRIPTION <code>func</code> <p>The callback function to handle new domains.</p> <p> TYPE: <code>Callable[[DomainChange], Awaitable[None]]</code> </p> RETURNS DESCRIPTION <code>The result of the extracted function call.</code>"},{"location":"server/implementation/#mailtm.server.srv.MailServerBase.dispatch","title":"dispatch  <code>async</code>","text":"<pre><code>dispatch(event: BaseEvent) -&gt; None\n</code></pre> <p>Asynchronously dispatches the given event to the appropriate handlers.</p> <p>Args:     self: The MailServerBase instance.     event (BaseEvent): The event to dispatch.</p> <p>Returns:     None</p>"},{"location":"server/implementation/#mailtm.server.srv.MailServerBase.shutdown","title":"shutdown  <code>async</code>","text":"<pre><code>shutdown() -&gt; None\n</code></pre> <p>Calls the shutdown method on the MailClient instance and dispatches the ServerCalledOff event.</p> <p>Returns:     None</p>"},{"location":"server/implementation/#mailtm.server.srv.MailServerBase.runner","title":"runner  <code>async</code>","text":"<pre><code>runner() -&gt; None\n</code></pre> <p>This function is responsible for executing the main server logic. It starts a session and continuously polls the API for new events. When a difference is detected, the corresponding event is dispatched. The function runs in an infinite loop until it is interrupted by a keyboard interrupt.</p> RAISES DESCRIPTION <code>    Exception</code> <p>If no events have been subscribed to.</p>"},{"location":"server/implementation/#mailtm.server.srv.MailServerBase.run","title":"run","text":"<pre><code>run() -&gt; None\n</code></pre> <p>Executes the main server logic by running the event runner within asyncio event loop.</p>"},{"location":"server/implementation/#the-mail-server","title":"The Mail Server","text":""},{"location":"server/implementation/#mailtm.server.impl.MailServer","title":"MailServer","text":"<pre><code>MailServer(\n    server_auth: ServerAuth,\n    pooling_rate: int | None,\n    banner: bool | None = True,\n    banner_path: pathlib.Path | str | None = default_banner,\n    suppress_errors: bool | None = False,\n    enable_logging: bool | None = False,\n)\n</code></pre> <p>             Bases: <code>MailServerBase</code></p>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.log","title":"log","text":"<pre><code>log(\n    message: str,\n    severity: t.Literal[\n        \"INFO\", \"WARNING\", \"ERROR\"\n    ] = \"INFO\",\n) -&gt; None\n</code></pre> <p>Logs the message to the console with the corresponding severity.</p> PARAMETER DESCRIPTION <code>message</code> <p>The message to log.</p> <p> TYPE: <code>str</code> </p> <code>severity</code> <p>The severity of the message. Defaults to INFO.</p> <p> TYPE: <code>Literal[INFO, WARNING, ERROR]</code> DEFAULT: <code>'INFO'</code> </p> RETURNS DESCRIPTION <code>None</code>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.subscribe","title":"subscribe","text":"<pre><code>subscribe(\n    event_type: t.Type[BaseEvent],\n) -&gt; t.Callable[\n    [t.Callable[[ServerSideEvents], t.Awaitable[None]]],\n    t.Callable[[ServerSideEvents], t.Awaitable[None]],\n]\n</code></pre> <p>Decorator to subscribe a function to handle server events.</p> PARAMETER DESCRIPTION <code>event_type</code> <p>The type of event to subscribe to.</p> <p> TYPE: <code>Type[BaseEvent]</code> </p> RETURNS DESCRIPTION <code>Callable</code> <p>The decorated function.</p> Example <pre><code>@server.subscribe(ServerSideEvents.NewMessage)\nasync def event(event: ServerSideEvents.NewMessage):\n    print(event.new_message.text)\n</code></pre>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.on_new_message","title":"on_new_message","text":"<pre><code>on_new_message(\n    func: t.Callable[[NewMessage], t.Awaitable[None]]\n)\n</code></pre> <p>Registers a callback function to handle new messages.</p> PARAMETER DESCRIPTION <code>func</code> <p>The callback function to handle new messages.</p> <p> TYPE: <code>Callable[[NewMessage], Awaitable[None]]</code> </p> RETURNS DESCRIPTION <code>The result of the extracted function call.</code>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.on_new_domain","title":"on_new_domain","text":"<pre><code>on_new_domain(\n    func: t.Callable[[DomainChange], t.Awaitable[None]]\n)\n</code></pre> <p>Registers a callback function to handle new domains.</p> PARAMETER DESCRIPTION <code>func</code> <p>The callback function to handle new domains.</p> <p> TYPE: <code>Callable[[DomainChange], Awaitable[None]]</code> </p> RETURNS DESCRIPTION <code>The result of the extracted function call.</code>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.dispatch","title":"dispatch  <code>async</code>","text":"<pre><code>dispatch(event: BaseEvent) -&gt; None\n</code></pre> <p>Asynchronously dispatches the given event to the appropriate handlers.</p> <p>Args:     self: The MailServerBase instance.     event (BaseEvent): The event to dispatch.</p> <p>Returns:     None</p>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.run","title":"run","text":"<pre><code>run() -&gt; None\n</code></pre> <p>Executes the main server logic by running the event runner within asyncio event loop.</p>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.create_account","title":"create_account  <code>async</code>","text":"<pre><code>create_account(\n    account_address: str, account_password: str\n) -&gt; t.Optional[Account]\n</code></pre> <p>Creates a new account with the given email address and password.</p> PARAMETER DESCRIPTION <code>account_address</code> <p>The email address of the new account.</p> <p> TYPE: <code>str</code> </p> <code>account_password</code> <p>The password for the new account.</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <code>Optional[Account]</code> <p>The newly created account object if successful, None otherwise.</p>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.delete_message","title":"delete_message  <code>async</code>","text":"<pre><code>delete_message(message_id: str) -&gt; None\n</code></pre> <p>Deletes a message from the Mail Box.</p> PARAMETER DESCRIPTION <code>message_id</code> <p>The ID of the message to be deleted.</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <code>    None</code>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.switch_account","title":"switch_account  <code>async</code>","text":"<pre><code>switch_account(\n    new_account_token: t.Union[Token, str]\n) -&gt; None\n</code></pre> <p>Switches to a new account.</p> PARAMETER DESCRIPTION <code>new_account_token</code> <p>The new account token to switch to.</p> <p> TYPE: <code>t.Union[Token, str]</code> </p> RETURNS DESCRIPTION <code>    None</code>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.delete_account","title":"delete_account  <code>async</code>","text":"<pre><code>delete_account(account_id: str) -&gt; None\n</code></pre> <p>Deletes an account.</p> PARAMETER DESCRIPTION <code>account_id</code> <p>The ID of the account to be deleted.</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <code>    None</code>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.shutdown","title":"shutdown  <code>async</code>","text":"<pre><code>shutdown() -&gt; None\n</code></pre> <p>Calls the shutdown method on the MailClient instance and dispatches the ServerCalledOff event.</p> <p>Returns:     None</p>"},{"location":"server/implementation/#mailtm.server.impl.MailServer.runner","title":"runner  <code>async</code>","text":"<pre><code>runner() -&gt; None\n</code></pre> <p>This function is responsible for executing the main server logic. It starts a session and continuously polls the API for new events. When a difference is detected, the corresponding event is dispatched. The function runs in an infinite loop until it is interrupted by a keyboard interrupt.</p> RAISES DESCRIPTION <code>    Exception</code> <p>If no events have been subscribed to.</p>"},{"location":"server/limitations/","title":"Limitations of the server implmentation.","text":"<p>Well, since the server implementation is not documented in the official documentation of Mail.tm, and is a locally made feature underlying the SDK, it is bound to be having certain limitations along with it.</p>"},{"location":"server/limitations/#ratelimiting","title":"Ratelimiting","text":"<p>Handling rate-limit errors manually is currently necessary since predicting the exact timing of these errors is challenging. However, we're considering developing a more efficient method to manage rate limits, especially when making multiple API calls for event monitoring.</p>"},{"location":"server/limitations/#random-crashes","title":"Random Crashes","text":"<p>Mail.tm currently lacks support for providing advance notification of service denial before implementing temporary downtime. Consequently, predicting when the server might randomly go offline is not feasible.</p>"},{"location":"server/limitations/#not-really-real-time","title":"Not really real-time","text":"<p>While the current implementation involves calling the API every second to monitor for changes, it's important to note that the API response consistently experiences a delay. On average, new messages are detected approximately 20 seconds after their arrival on the mail.tm website. Thus, the system's real-time capabilities are somewhat limited due to this delay.</p>"},{"location":"server/server/","title":"Mail Server","text":"<p>This package not only encompasses fundamental SDK functionalities but also integrates an additional layer of scripts tailored specifically for managing clients in an event-driven fashion, reminiscent of popular frameworks such as discord.py or hikari. By utilizing this SDK, you gain access to a client that seamlessly dispatches events, enhancing the overall functionality and versatility of your application.</p>"},{"location":"server/server/#sample-usage","title":"Sample Usage:","text":"<pre><code>import mailtm\nfrom mailtm.abc import ServerAuth\n\nserver = mailtm.MailServer(\n    server_auth=ServerAuth(\n        account_id=\"...\",\n        account_token=\"...\",\n    )\n)\n\n@server.on_new_message\nasync def handle_new_message(event: NewMessage):\n    print(event.new_message.text)\n\nserver.run()\n</code></pre>"},{"location":"server/server/#understanding-the-execution","title":"Understanding the execution","text":"<p>After importing the Server module,</p> <ul> <li>The mailtm.MailServer creates a server instance to receive new messages.</li> <li>The server_auth parameter requires details of the client for initiating API call pooling. *This parameter should be passed with ServerAuth.</li> <li>Subsequently, the server's main body is implemented.</li> <li>Since this server-like implementation relies solely on event dispatches, two types of decorators are provided to subscribe to any event.</li> <li>The <code>.run()</code> function is used to execute the server through asynchronous loops.</li> </ul>"}]}